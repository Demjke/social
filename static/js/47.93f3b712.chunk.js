"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[47],{6047:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var n=s(5043),o=s(3003),r=s(3923),i=s(5853),l=s(3006);function a(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var c=e=>Array.isArray(e)?e:[e];function u(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const s=e.map((e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${s}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var p="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},d=0,f=1;function g(){return{s:d,v:void 0,o:null,p:null}}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=g();const{resultEqualityCheck:n}=t;let o,r=0;function i(){let t=s;const{length:i}=arguments;for(let e=0,s=i;e<s;e++){const s=arguments[e];if("function"===typeof s||"object"===typeof s&&null!==s){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(s);void 0===n?(t=g(),e.set(s,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(s);void 0===n?(t=g(),e.set(s,t)):t=n}}const l=t;let a;if(t.s===f)a=t.v;else if(a=e.apply(null,arguments),r++,n){const e=o?.deref?.()??o;null!=e&&n(e,a)&&(a=e,0!==r&&r--);o="object"===typeof a&&null!==a||"function"===typeof a?new p(a):a}return l.s=f,l.v=a,a}return i.clearCache=()=>{s=g(),i.resetResultsCount()},i.resultsCount=()=>r,i.resetResultsCount=()=>{r=0},i}function h(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];const o="function"===typeof e?{memoize:e,memoizeOptions:s}:e,r=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];let n,r=0,i=0,l={},p=t.pop();"object"===typeof p&&(l=p,p=t.pop()),a(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const d={...o,...l},{memoize:f,memoizeOptions:g=[],argsMemoize:h=m,argsMemoizeOptions:y=[],devModeChecks:v={}}=d,w=c(g),_=c(y),j=u(t),x=f((function(){return r++,p.apply(null,arguments)}),...w);const P=h((function(){i++;const e=function(e,t){const s=[],{length:n}=e;for(let o=0;o<n;o++)s.push(e[o].apply(null,t));return s}(j,arguments);return n=x.apply(null,e),n}),..._);return Object.assign(P,{resultFunc:p,memoizedResultFunc:x,dependencies:j,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>n,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:f,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var y=h(m),v=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const s=Object.keys(e),n=t(s.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t,n)=>(e[s[n]]=t,e)),{})}));return n}),{withTypes:()=>v});const w=y((e=>e.usersPage.users),(e=>e.filter((e=>!0)))),_=e=>e.usersPage.pageSize,j=e=>e.usersPage.totalUsersCount,x=e=>e.usersPage.currentPage,P=e=>e.usersPage.isLoading,C=e=>e.usersPage.followingInProgress;var b=s(6662);const U="Paginations_paginations__FAynZ",z="Paginations_btn__v8cK7",N="Paginations_selected__ccZoa";var k=s(579);const S=e=>{let{totalUsersCount:t,pageSize:s,currentPage:n,onPageChanged:o}=e;const r=(0,b.Zp)(),[i]=(0,b.ok)(),l=Math.ceil(t/s),a=i.get("page"),c=a?parseInt(a,10):n,u=e=>(0,k.jsx)("span",{className:c===e?`${z} ${N}`:z,onClick:()=>(e=>{r(`/users?page=${e}`),o(e)})(e),children:e},e),p=[];p.push(u(1)),c>5&&p.push((0,k.jsx)("span",{children:"..."},"dots1"));const d=Math.max(2,c-4),f=Math.min(l-1,c+4);for(let g=d;g<=f;g++)p.push(u(g));return c<l-2&&p.push((0,k.jsx)("span",{children:"..."},"dots2")),p.push(u(l)),(0,k.jsx)("div",{className:U,children:p})};var M=s(8943),A=s(1891);const O={title:"Users_title__90hoz",items:"Users_items__MBh-C",item:"Users_item__krULK","item-wrapper":"Users_item-wrapper__2jlw7","item-img":"Users_item-img__xjkOM","item-btn":"Users_item-btn__gV0pL","item-content":"Users_item-content__s2MQv","item-fullname":"Users_item-fullname__s3HV2","item-status":"Users_item-status__b8sIH","item-info":"Users_item-info__CfWkU","item-city":"Users_item-city__sUEB3","item-coutry":"Users_item-coutry__bXdT8"};const I=e=>{let{user:t,followingInProgress:s,unfollow:n,follow:o}=e;return(0,k.jsxs)("div",{className:O.item,children:[(0,k.jsxs)("div",{className:O["item-wrapper"],children:[(0,k.jsx)(b.N_,{to:"/profile/"+t.id,className:O["item-img"],children:(0,k.jsx)("img",{src:null!=t.photos.small?t.photos.small:A,alt:"avatar"})}),(0,k.jsx)("button",{disabled:s.some((e=>e===t.id)),className:O["item-btn"],onClick:()=>t.followed?n(t.id):o(t.id),children:t.followed?"unfollow":"follow"})]}),(0,k.jsxs)("div",{className:O["item-content"],children:[(0,k.jsx)("div",{className:O["item-fullname"],children:t.name}),(0,k.jsx)("div",{className:O["item-status"],children:t.status}),(0,k.jsxs)("div",{className:O["item-info"],children:[(0,k.jsx)("div",{className:O["item-city"],children:"user.location.city"}),(0,k.jsx)("div",{className:O["item-coutry"],children:"user.location.country"})]})]})]})};const R=e=>{let{totalUsersCount:t,currentPage:s,pageSize:n,onPageChanged:o,users:r,followingInProgress:i,unfollow:l,follow:a,isLoading:c}=e;return(0,k.jsxs)("div",{className:O.users,children:[(0,k.jsx)("h1",{className:O.title,children:"Users"}),(0,k.jsx)(S,{totalUsersCount:t,currentPage:s,pageSize:n,onPageChanged:o}),c?(0,k.jsx)(M.A,{}):(0,k.jsx)("div",{className:O.items,children:r.map((e=>(0,k.jsx)(I,{user:e,followingInProgress:i,unfollow:l,follow:a},e.id)))})]})};class $ extends n.Component{constructor(){super(...arguments),this.onPageChanged=e=>{this.props.getUsers(e,this.props.pageSize)}}componentDidMount(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}render(){return(0,k.jsx)(R,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,isLoading:this.props.isLoading,followingInProgress:this.props.followingInProgress})}}const L=(0,r.Zz)((0,o.Ng)((e=>({users:w(e),pageSize:_(e),totalUsersCount:j(e),currentPage:x(e),isLoading:P(e),followingInProgress:C(e)})),{follow:l.e6,unfollow:l.X2,setCurrentPage:l.Tm,getUsers:l.lo}),i.$)($)},5853:(e,t,s)=>{s.d(t,{$:()=>a});var n=s(5043),o=s(3003),r=s(6662),i=s(579);let l=e=>({isAuth:e.auth.isAuth});const a=e=>{class t extends n.Component{render(){return this.props.isAuth?(0,i.jsx)(e,{...this.props}):(0,i.jsx)(r.C5,{to:"/login"})}}return(0,o.Ng)(l)(t)}},1891:(e,t,s)=>{e.exports=s.p+"static/media/user.a6143582309785dca610.png"}}]);
//# sourceMappingURL=47.93f3b712.chunk.js.map